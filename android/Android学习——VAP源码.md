### ä¸€ã€èƒŒæ™¯ä»‹ç»
##### 1. VAPï¼ˆVideo Animation Playerï¼‰æ˜¯ç›´æ’­ä¸­å°ä½¿ç”¨çš„ä¸€ä¸ªè§†é¢‘åŠ¨ç”»ç‰¹æ•ˆSDKï¼Œå¯ä»¥é€šè¿‡åˆ¶ä½œAlphaé€šé“åˆ†ç¦»çš„è§†é¢‘ç´ æï¼Œå†åœ¨å®¢æˆ·ç«¯ä¸Šé€šè¿‡OpenGL ESé‡æ–°å®ç°Alphaé€šé“å’ŒRGBé€šé“çš„æ··åˆï¼Œä»è€Œå®ç°åœ¨ç«¯ä¸Šæ’­æ”¾å¸¦é€æ˜é€šé“çš„è§†é¢‘ã€‚
> å·²ç»æ¥å…¥çš„app

![](http://file.jinxianyun.com/vap_apps.png)

> åŒåŸç†å®ç°ä¹Ÿç”¨åœ¨å…¶ä»–app

     æŠ–éŸ³ã€è¥¿ç“œè§†é¢‘ã€ä»Šæ—¥å¤´æ¡ã€çˆ±å¥‡è‰ºã€æ¯”å¿ƒç­‰


##### 2. æ–¹æ¡ˆå¯¹æ¯”
ç›®å‰è¾ƒå¸¸è§çš„åŠ¨ç”»å®ç°æ–¹æ¡ˆæœ‰å¸§åŠ¨ç”»ã€gif/webpã€lottie/SVGAï¼Œå¯¹äºå¤æ‚åŠ¨ç”»ç‰¹æ•ˆçš„å®ç°åšä¸ªç®€å•å¯¹æ¯”

æ–¹æ¡ˆ | æ–‡ä»¶å¤§å° | è§£ç æ–¹å¼ | ç‰¹æ•ˆæ”¯æŒ | åº”ç”¨è¡¨ç°   
---|---|---|---|---
Lottie/SVGA | æ— æ³•å¯¼å‡º | è½¯è§£ | éƒ¨åˆ†å¤æ‚ç‰¹æ•ˆä¸æ”¯æŒ | ç»˜åˆ¶è€—æ—¶,å†…å­˜æŠ–åŠ¨
gif/webp | 4.6M | è½¯è§£ | åªæ”¯æŒ8ä½è‰²å½© | æ–‡ä»¶èµ„æºæ¶ˆè€—å¤§
apng | 10.6M | è½¯è§£ | å…¨æ”¯æŒ | èµ„æºæ¶ˆè€—å¤§
vap | 1.5M | ç¡¬è§£ç  | å…¨æ”¯æŒ | æ€§èƒ½å¥½,å¤æ‚åŠ¨ç”»æ”¯æŒå¥½

##### 3. è¿è¡Œæ•ˆæœ
![image](http://file.jinxianyun.com/flutter_vap.gif)


##### 4. æœ¬æ–‡ä¸»è¦å†…å®¹

ä¸»è¦ä»‹ç»VAPå¦‚ä½•å®ç°ï¼Œä»MediaCodecè§†é¢‘è§£ç åˆ°OpenGL ES æ¸²æŸ“RGBåŠAlphaé€šé“ï¼Œæœ€åè¾“å‡ºåˆ°TextureViewä¸Šã€‚



### äºŒã€VAPå®ç°æ¶æ„
##### 1. éœ€è¦çš„æŠ€æœ¯
- OpenGL ES: åˆ›å»ºçº¹ç†ï¼ŒåŠç»˜åˆ¶å·¥ä½œ
- TextureView: Android UIç»„ä»¶ï¼ŒæŒæœ‰SurfaceTextureï¼Œç›‘å¬SurfaceTextureçš„sizeå˜åŒ–ï¼Œåšæ˜¾ç¤ºåŒºåŸŸæ›´æ–°
- SurfaceTexture: æŒæœ‰OpenGL ESåˆ›å»ºçš„çº¹ç†ï¼Œç›‘å¬è§£ç åçš„å¸§æ•°æ®åšå¸§æ›´æ–°ï¼Œå¹¶é€šçŸ¥OpenGL ESç»˜åˆ¶
- MediaCodec: è§£ç ï¼ŒæŠŠè§£ç åçš„æ•°æ®ç»‘å®šåˆ°SurfaceTexture

##### 2. å®ç°æµç¨‹å›¾
![image](http://file.jinxianyun.com/vap_main.jpg)
[image](http://file.jinxianyun.com/vap_main.jpg)


##### 3. æ•´ä½“å·¥ä½œæµç¨‹
ä¸ºäº†æ–¹ä¾¿æŸ¥çœ‹å„ä¸ªç±»çš„èŒè´£åŠé¡ºåºæ‰§è¡Œçš„æµç¨‹ï¼Œè¿™é‡Œç”¨æ³³é“å›¾:
![image](http://file.jinxianyun.com/vap_codes.jpg)
[image](http://file.jinxianyun.com/vap_codes.jpg)


### ä¸‰ã€å…¶ä»–
- [æœ¬æ–‡æºç ](https://github.com/Tencent/vap)
- [å­—èŠ‚å¯¹åº”å®ç°](https://github.com/bytedance/AlphaPlayer)
- [flutterç‰ˆvap](https://github.com/qq326646683/flutter_vap)


---
å®Œç»“ï¼Œæ’’èŠ±ğŸ‰